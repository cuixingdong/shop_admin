<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>

        <div>0</div>
    <input type="button" value="点我啊" />
    <script>
    var myShow = document.querySelector("div");
    var myBtn = document.querySelector("input");


/* 
            节流函数：fn:要被节流的函数，delay：规定的时间
        */
    //     function throttle(fn,delay){
    //         // 记录上一次函数出发的时间
    //         var lastTime = 0
    //         return function(){
    //         // 记录当前函数触发的时间
    //         var nowTime = new Date().getTime()
    //         // 当当前时间减去上一次执行时间大于这个指定间隔时间才让他触发这个函数
    //         if(nowTime - lastTime > delay){
    //             // 绑定this指向
    //             fn.call(this)
    //             //同步时间
    //             lastTime = nowTime
    //         }
    //         }
    //    }

    
    function debounce(fn,delay){
           let timer 
        //  清除上一次延时器
          return function(){
            if (timer)  clearTimeout(timer)
              //  重新设置一个新的延时器
              timer = setTimeout(() => {
                  fn.call(this)
              }, delay);
          }
       }

       function throttle(fn,delay){
           var prev = 0;
           return function(){
               var now = Date.now()
               if(now - prev>delay){
                fn.call(this)
                  prev = now
               }
           }
       }




       function addOne() {
        myShow.innerText = parseInt(myShow.innerText)+1;
    }
    myBtn.onclick = throttle(addOne,1000);

        
        
        </script>
</body>
</html>